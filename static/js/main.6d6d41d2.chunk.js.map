{"version":3,"sources":["components/header/index.js","components/footer/index.js","components/form/index.js","components/results/index.js","components/history/index.js","app.js","index.js"],"names":["Header","Footer","Form","props","useState","formData","setFormData","handleChange","e","target","name","value","id","method","onSubmit","preventDefault","handleApiCall","onChange","type","className","onClick","Results","data","src","History","history","map","request","i","console","log","initialState","activeState","loading","appReducer","state","action","payload","filter","App","useReducer","dispatch","useEffect","a","axios","response","Fragment","url","requestParams","Main","React","Component","rootElement","document","getElementById","ReactDOM","render"],"mappings":"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","file":"static/js/main.6d6d41d2.chunk.js","sourcesContent":["import './header.scss';\n\nfunction Header () {\n  return (\n    <header>\n      <h1>RESTy</h1>\n    </header>\n  );\n}\n\nexport default Header;","import './footer.scss';\n\nfunction Footer () {\n  return <footer> &copy; 2018</footer>;\n}\n\nexport default Footer;","import { useState } from 'react';\n\nimport './form.scss';\n\nfunction Form (props) {\n\n  const [formData, setFormData] = useState({});\n\n  function handleSubmit (e) {\n    e.preventDefault();\n    props.handleApiCall(formData);\n  }\n\n\n  function handleChange (e) {\n    const { name, value, id } = e.target;\n    id ? setFormData({ ...formData, method: id }) : setFormData({ ...formData, [name]: value });\n  }\n\n  return (\n    <>\n      <form onSubmit={handleSubmit}>\n        <label >\n          <span>URL: </span>\n          <input onChange={handleChange} name='url' type='text' />\n          <button type=\"submit\">GO!</button>\n        </label>\n        <label className=\"methods\">\n          <span className={ formData.method === 'get' ? 'active' : '' } onClick={handleChange} id=\"get\">GET</span>\n          <span className={ formData.method === 'post' ? 'active' : '' } onClick={handleChange} id=\"post\">POST</span>\n          <span className={ formData.method === 'put' ? 'active' : '' } onClick={handleChange} id=\"put\">PUT</span>\n          <span className={ formData.method === 'delete' ? 'active' : '' } onClick={handleChange} id=\"delete\">DELETE</span>\n        </label>\n        <label className=\"requestJson\">\n          <input onChange={handleChange} name='data' type='text' />\n        </label>\n      </form>\n    </>\n  );\n}\n\nexport default Form;","import './results.scss';\nimport ReactJson from 'react-json-view';\n\nfunction Results (props) {\n  return (\n    <section>\n      {props.data ? (<ReactJson src={props.data} />) : null}\n    </section>\n  );\n}\n\nexport default Results;","import './history.scss';\n\nfunction History (props) {\n\n  function handleClick (e) {\n    console.log(e.target.id);\n    // displayHistory()\n  }\n\n  return (\n    <>\n      <section className=\"history\">\n        {props.history.map((request, i) => {\n          <label className=\"methods\" onClick={handleClick} id={i}>\n            {console.log(request)}\n            {/* <span>{request.method}</span>\n            <div>URL: {request.url}</div> */}\n          </label>;\n        })}\n      </section>\n    </>\n  );\n\n}\n\nexport default History;","import React, { useEffect, useReducer } from 'react';\nimport axios from 'axios';\n\nimport './app.scss';\n\n// Let's talk about using index.js and some other name in the component folder\n// There's pros and cons for each way of doing this ...\nimport Header from './components/header';\nimport Footer from './components/footer';\nimport Form from './components/form';\nimport Results from './components/results';\nimport History from './components/history';\n\nconst initialState = {\n  activeState: null,\n  history: [],\n  loading: false,\n};\n\nfunction appReducer ( state, action) {\n  let {type, payload} = action;\n\n  switch(type) {\n\n  case 'new-request':\n    return { ...state, activeState: {request: payload} };\n\n  case 'set-request-data':\n    return { ...state, activeState: {...state.activeState, data: payload} };\n\n  case 'add-to-history':\n    return { ...state, history: [...state.history, payload]};\n\n  case 'display-history':\n    return { ...state, activeState: state.history.filter( request => request.id === payload )[0]};\n\n  case 'set-loading':\n    return { ...state, loading: payload};\n    \n  default:\n    return state;\n  }\n\n}\n\nfunction App () {\n \n  const [state, dispatch] = useReducer(appReducer, initialState);\n\n  const callApi = (requestParams) => {\n    let request = {\n      type: 'new-request',\n      payload: requestParams,\n    };\n\n    let loading = {\n      type: 'set-loading',\n      payload: true,\n    };\n\n    if (state.activeState) {\n      let history = {\n        type: 'add-to-history',\n        payload: state.activeState,\n      };\n\n      dispatch(history);\n    }\n\n    dispatch(loading);\n    dispatch(request);\n  };\n\n  useEffect( async () => {\n    if (state.activeState) {\n      let response = await axios(state.activeState.request);\n\n      let loading = {\n        type: 'set-loading',\n        payload: false,\n      };\n\n      let data = {\n        type:'set-request-data',\n        payload: response.data,\n      };\n\n      dispatch(data);\n      dispatch(loading);\n    } \n  }, [state.activeState]);\n\n  return (\n    <React.Fragment>\n      <Header />\n      <div>Request Method: {state.activeState ? state.activeState.request.method : ''}</div>\n      <div>URL: {state.activeState ? state.activeState.request.url : ''}</div>\n      {state.loading ? <div>Loading...</div> : <div></div>}\n      <Form handleApiCall={callApi} />\n      <History history={state.history}></History>\n      <Results data={state.activeState} />\n      <Footer />\n    </React.Fragment>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './app.js';\n\nclass Main extends React.Component {\n  render() {\n    return <App />;\n  }\n}\n\nconst rootElement = document.getElementById('root');\nReactDOM.render(<Main />, rootElement);"],"sourceRoot":""}